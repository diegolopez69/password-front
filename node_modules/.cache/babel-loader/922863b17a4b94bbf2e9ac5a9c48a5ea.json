{"remainingRequest":"/home/caillou/Desktop/password-front/node_modules/babel-loader/lib/index.js!/home/caillou/Desktop/password-front/node_modules/vuetify/lib/services/lang/index.js","dependencies":[{"path":"/home/caillou/Desktop/password-front/node_modules/vuetify/lib/services/lang/index.js","mtime":499162500000},{"path":"/home/caillou/Desktop/password-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/caillou/Desktop/password-front/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkxhbmcgPSB2b2lkIDA7Cgp2YXIgX3NlcnZpY2UgPSByZXF1aXJlKCIuLi9zZXJ2aWNlIik7Cgp2YXIgX2hlbHBlcnMgPSByZXF1aXJlKCIuLi8uLi91dGlsL2hlbHBlcnMiKTsKCnZhciBfY29uc29sZSA9IHJlcXVpcmUoIi4uLy4uL3V0aWwvY29uc29sZSIpOwoKLy8gRXh0ZW5zaW9ucwovLyBVdGlsaXRpZXMKY29uc3QgTEFOR19QUkVGSVggPSAnJHZ1ZXRpZnkuJzsKY29uc3QgZmFsbGJhY2sgPSBTeW1ib2woJ0xhbmcgZmFsbGJhY2snKTsKCmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKGxvY2FsZSwga2V5LCB1c2luZ0RlZmF1bHQgPSBmYWxzZSwgZGVmYXVsdExvY2FsZSkgewogIGNvbnN0IHNob3J0S2V5ID0ga2V5LnJlcGxhY2UoTEFOR19QUkVGSVgsICcnKTsKICBsZXQgdHJhbnNsYXRpb24gPSAoMCwgX2hlbHBlcnMuZ2V0T2JqZWN0VmFsdWVCeVBhdGgpKGxvY2FsZSwgc2hvcnRLZXksIGZhbGxiYWNrKTsKCiAgaWYgKHRyYW5zbGF0aW9uID09PSBmYWxsYmFjaykgewogICAgaWYgKHVzaW5nRGVmYXVsdCkgewogICAgICAoMCwgX2NvbnNvbGUuY29uc29sZUVycm9yKShgVHJhbnNsYXRpb24ga2V5ICIke3Nob3J0S2V5fSIgbm90IGZvdW5kIGluIGZhbGxiYWNrYCk7CiAgICAgIHRyYW5zbGF0aW9uID0ga2V5OwogICAgfSBlbHNlIHsKICAgICAgKDAsIF9jb25zb2xlLmNvbnNvbGVXYXJuKShgVHJhbnNsYXRpb24ga2V5ICIke3Nob3J0S2V5fSIgbm90IGZvdW5kLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdGApOwogICAgICB0cmFuc2xhdGlvbiA9IGdldFRyYW5zbGF0aW9uKGRlZmF1bHRMb2NhbGUsIGtleSwgdHJ1ZSwgZGVmYXVsdExvY2FsZSk7CiAgICB9CiAgfQoKICByZXR1cm4gdHJhbnNsYXRpb247Cn0KCmNsYXNzIExhbmcgZXh0ZW5kcyBfc2VydmljZS5TZXJ2aWNlIHsKICBjb25zdHJ1Y3RvcihwcmVzZXQpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSAnZW4nOwogICAgY29uc3QgewogICAgICBjdXJyZW50LAogICAgICBsb2NhbGVzLAogICAgICB0CiAgICB9ID0gcHJlc2V0W0xhbmcucHJvcGVydHldOwogICAgdGhpcy5jdXJyZW50ID0gY3VycmVudDsKICAgIHRoaXMubG9jYWxlcyA9IGxvY2FsZXM7CiAgICB0aGlzLnRyYW5zbGF0b3IgPSB0IHx8IHRoaXMuZGVmYXVsdFRyYW5zbGF0b3I7CiAgfQoKICBjdXJyZW50TG9jYWxlKGtleSkgewogICAgY29uc3QgdHJhbnNsYXRpb24gPSB0aGlzLmxvY2FsZXNbdGhpcy5jdXJyZW50XTsKICAgIGNvbnN0IGRlZmF1bHRMb2NhbGUgPSB0aGlzLmxvY2FsZXNbdGhpcy5kZWZhdWx0TG9jYWxlXTsKICAgIHJldHVybiBnZXRUcmFuc2xhdGlvbih0cmFuc2xhdGlvbiwga2V5LCBmYWxzZSwgZGVmYXVsdExvY2FsZSk7CiAgfQoKICB0KGtleSwgLi4ucGFyYW1zKSB7CiAgICBpZiAoIWtleS5zdGFydHNXaXRoKExBTkdfUFJFRklYKSkgcmV0dXJuIHRoaXMucmVwbGFjZShrZXksIHBhcmFtcyk7CiAgICByZXR1cm4gdGhpcy50cmFuc2xhdG9yKGtleSwgLi4ucGFyYW1zKTsKICB9CgogIGRlZmF1bHRUcmFuc2xhdG9yKGtleSwgLi4ucGFyYW1zKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHRoaXMuY3VycmVudExvY2FsZShrZXkpLCBwYXJhbXMpOwogIH0KCiAgcmVwbGFjZShzdHIsIHBhcmFtcykgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9ceyhcZCspXH0vZywgKG1hdGNoLCBpbmRleCkgPT4gewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICByZXR1cm4gU3RyaW5nKHBhcmFtc1sraW5kZXhdKTsKICAgIH0pOwogIH0KCn0KCmV4cG9ydHMuTGFuZyA9IExhbmc7CkxhbmcucHJvcGVydHkgPSAnbGFuZyc7"},{"version":3,"sources":["../../../src/services/lang/index.ts"],"names":[],"mappings":";;;;;;;AACA;;AAGA;;AACA;;AALA;AAGA;AAWA,MAAM,WAAW,GAAjB,WAAA;AACA,MAAM,QAAQ,GAAG,MAAM,CAAvB,eAAuB,CAAvB;;AAEA,SAAA,cAAA,CAAA,MAAA,EAAA,GAAA,EAGE,YAAY,GAHd,KAAA,EAAA,aAAA,EAI8B;AAE5B,QAAM,QAAQ,GAAG,GAAG,CAAH,OAAA,CAAA,WAAA,EAAjB,EAAiB,CAAjB;AACA,MAAI,WAAW,GAAG,mCAAoB,MAApB,EAAoB,QAApB,EAAlB,QAAkB,CAAlB;;AAEA,MAAI,WAAW,KAAf,QAAA,EAA8B;AAC5B,QAAA,YAAA,EAAkB;AAChB,iCAAa,oBAAoB,QAAjC,yBAAA;AACA,MAAA,WAAW,GAAX,GAAA;AAFF,KAAA,MAGO;AACL,gCAAY,oBAAoB,QAAhC,sCAAA;AACA,MAAA,WAAW,GAAG,cAAc,CAAA,aAAA,EAAA,GAAA,EAAA,IAAA,EAA5B,aAA4B,CAA5B;AACD;AACF;;AAED,SAAA,WAAA;AACD;;AAEK,MAAA,IAAA,SAAA,gBAAA,CAA2B;AAW/B,EAAA,WAAA,CAAA,MAAA,EAAkC;AAChC;AAPK,SAAA,aAAA,GAAA,IAAA;AASL,UAAM;AAAA,MAAA,OAAA;AAAA,MAAA,OAAA;AAGJ,MAAA;AAHI,QAIF,MAAM,CAAC,IAAI,CAJf,QAIU,CAJV;AAMA,SAAA,OAAA,GAAA,OAAA;AACA,SAAA,OAAA,GAAA,OAAA;AACA,SAAA,UAAA,GAAkB,CAAC,IAAI,KAAvB,iBAAA;AACD;;AAEM,EAAA,aAAa,CAAA,GAAA,EAAa;AAC/B,UAAM,WAAW,GAAG,KAAA,OAAA,CAAa,KAAjC,OAAoB,CAApB;AACA,UAAM,aAAa,GAAG,KAAA,OAAA,CAAa,KAAnC,aAAsB,CAAtB;AAEA,WAAO,cAAc,CAAA,WAAA,EAAA,GAAA,EAAA,KAAA,EAArB,aAAqB,CAArB;AACD;;AAEM,EAAA,CAAC,CAAA,GAAA,EAAe,GAAf,MAAA,EAA+B;AACrC,QAAI,CAAC,GAAG,CAAH,UAAA,CAAL,WAAK,CAAL,EAAkC,OAAO,KAAA,OAAA,CAAA,GAAA,EAAP,MAAO,CAAP;AAElC,WAAO,KAAA,UAAA,CAAA,GAAA,EAAqB,GAA5B,MAAO,CAAP;AACD;;AAEO,EAAA,iBAAiB,CAAA,GAAA,EAAe,GAAf,MAAA,EAA+B;AACtD,WAAO,KAAA,OAAA,CAAa,KAAA,aAAA,CAAb,GAAa,CAAb,EAAP,MAAO,CAAP;AACD;;AAEO,EAAA,OAAO,CAAA,GAAA,EAAA,MAAA,EAA4B;AACzC,WAAO,GAAG,CAAH,OAAA,CAAA,YAAA,EAA0B,CAAA,KAAA,EAAA,KAAA,KAAiC;AAChE;AACA,aAAO,MAAM,CAAC,MAAM,CAAC,CAArB,KAAoB,CAAP,CAAb;AAFF,KAAO,CAAP;AAID;;AA/C8B;;;AACxB,IAAA,CAAA,QAAA,GAAA,MAAA","sourcesContent":["// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\nimport { consoleError, consoleWarn } from '../../util/console'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport {\n  VuetifyLocale,\n  Lang as ILang,\n} from 'vuetify/types/services/lang'\n\nconst LANG_PREFIX = '$vuetify.'\nconst fallback = Symbol('Lang fallback')\n\nfunction getTranslation (\n  locale: VuetifyLocale,\n  key: string,\n  usingDefault = false,\n  defaultLocale: VuetifyLocale\n): string {\n  const shortKey = key.replace(LANG_PREFIX, '')\n  let translation = getObjectValueByPath(locale, shortKey, fallback) as string | typeof fallback\n\n  if (translation === fallback) {\n    if (usingDefault) {\n      consoleError(`Translation key \"${shortKey}\" not found in fallback`)\n      translation = key\n    } else {\n      consoleWarn(`Translation key \"${shortKey}\" not found, falling back to default`)\n      translation = getTranslation(defaultLocale, key, true, defaultLocale)\n    }\n  }\n\n  return translation\n}\n\nexport class Lang extends Service implements ILang {\n  static property: 'lang' = 'lang'\n\n  public current: ILang['current']\n\n  public defaultLocale = 'en'\n\n  public locales: ILang['locales']\n\n  private translator: ILang['t']\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      current,\n      locales,\n      t,\n    } = preset[Lang.property]\n\n    this.current = current\n    this.locales = locales\n    this.translator = t || this.defaultTranslator\n  }\n\n  public currentLocale (key: string) {\n    const translation = this.locales[this.current]\n    const defaultLocale = this.locales[this.defaultLocale]\n\n    return getTranslation(translation, key, false, defaultLocale)\n  }\n\n  public t (key: string, ...params: any[]) {\n    if (!key.startsWith(LANG_PREFIX)) return this.replace(key, params)\n\n    return this.translator(key, ...params)\n  }\n\n  private defaultTranslator (key: string, ...params: any[]) {\n    return this.replace(this.currentLocale(key), params)\n  }\n\n  private replace (str: string, params: any[]) {\n    return str.replace(/\\{(\\d+)\\}/g, (match: string, index: string) => {\n      /* istanbul ignore next */\n      return String(params[+index])\n    })\n  }\n}\n"],"sourceRoot":""}]}